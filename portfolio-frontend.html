<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; connect-src 'self' https://generativelanguage.googleapis.com https://*.googleapis.com; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; img-src 'self' data: https:; font-src 'self' https: data:;">
    <title>AI Customer Service Assistant - Portfolio</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * { font-family: 'Inter', sans-serif; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 30%, #16213e 70%, #0f3460 100%);
            animation: gradientShift 10s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .neon-glow {
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.4), 0 0 40px rgba(6, 182, 212, 0.2);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #06b6d4, #3b82f6, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientText 3s ease infinite;
        }
        
        @keyframes gradientText {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .floating { animation: floating 6s ease-in-out infinite; }
        @keyframes floating {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(1deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
        }
        
        .pulse-ring {
            animation: pulseRing 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite;
        }
        
        @keyframes pulseRing {
            0% { transform: scale(0.8); opacity: 1; }
            80%, 100% { transform: scale(1.2); opacity: 0; }
        }
        
        .typing-dots {
            display: inline-flex;
            gap: 4px;
        }
        
        .typing-dots div {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #06b6d4;
            animation: typingDots 1.4s infinite ease-in-out;
        }
        
        .typing-dots div:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots div:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typingDots {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1.2); opacity: 1; }
        }
        
        .message-slide-in {
            animation: messageSlideIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        @keyframes messageSlideIn {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .hover-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .chat-scroll::-webkit-scrollbar { width: 8px; }
        .chat-scroll::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 4px; }
        .chat-scroll::-webkit-scrollbar-thumb { background: linear-gradient(45deg, #06b6d4, #3b82f6); border-radius: 4px; }
        .chat-scroll::-webkit-scrollbar-thumb:hover { background: linear-gradient(45deg, #0891b2, #2563eb); }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#06b6d4',
                        secondary: '#3b82f6',
                        accent: '#8b5cf6',
                        success: '#10b981',
                        warning: '#f59e0b',
                        error: '#ef4444',
                    },
                    animation: {
                        'spin-slow': 'spin 3s linear infinite',
                        'bounce-gentle': 'bounce 2s infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        const { useState, useEffect, useRef, useCallback, StrictMode } = React;
        const { createRoot } = ReactDOM;
        const API_BASE = 'http://localhost:5003/api';
        
        // Error Boundary Component
        class ErrorBoundary extends React.Component {
            state = { hasError: false, error: null };
            
            static getDerivedStateFromError(error) {
                return { hasError: true, error };
            }
            
            componentDidCatch(error, errorInfo) {
                console.error('Error in component:', error, errorInfo);
            }
            
            render() {
                if (this.state.hasError) {
                    return (
                        <div className="p-4 bg-red-900/50 text-red-100 rounded-lg">
                            <h3 className="font-bold">Something went wrong</h3>
                            <p className="text-sm">{this.state.error?.message || 'Unknown error'}</p>
                        </div>
                    );
                }
                return this.props.children;
            }
        }

        // Enhanced Message Component
        function Message({ from, text, ts, confidence, intent, id, onReaction, onEdit }) {
            const isUser = from === 'user';
            const [isVisible, setIsVisible] = useState(false);
            const [showReactions, setShowReactions] = useState(false);

            useEffect(() => {
                const timer = setTimeout(() => setIsVisible(true), 100);
                return () => clearTimeout(timer);
            }, []);

            const bubbleClass = isUser
                ? 'ml-auto bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white'
                : 'mr-auto glass-effect text-white border-l-4 border-primary';

            const formatText = (text) => {
                return text
                    .replace(/\*\*(.*?)\*\*/g, '<strong class="text-primary font-semibold">$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em class="text-gray-300">$1</em>')
                    .replace(/`(.*?)`/g, '<code class="bg-black/30 px-2 py-1 rounded text-primary">$1</code>');
            };

            const reactions = ['üëç', '‚ù§Ô∏è', 'üòÇ', 'üòÆ', 'üò¢', 'ü§î'];

            return (
                <div className={`max-w-[85%] my-4 transform transition-all duration-500 ${isVisible ? 'translate-y-0 opacity-100' : 'translate-y-8 opacity-0'}`}>
                    <div className={`p-5 rounded-2xl shadow-xl ${bubbleClass} message-slide-in hover-lift group relative`}>
                        <div className="flex items-start gap-4">
                            {!isUser && (
                                <div className="relative">
                                    <div className="w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center flex-shrink-0">
                                        <i className="fas fa-robot text-white"></i>
                                    </div>
                                    <div className="absolute -inset-1 rounded-full bg-gradient-to-r from-primary to-secondary opacity-30 pulse-ring"></div>
                                </div>
                            )}
                            <div className="flex-1">
                                <div
                                    className="whitespace-pre-wrap leading-relaxed text-sm"
                                    dangerouslySetInnerHTML={{__html: formatText(text)}}
                                />
                                <div className="flex items-center justify-between mt-3 text-xs">
                                    <span className="text-gray-400 font-medium">
                                        {new Date(ts).toLocaleTimeString()}
                                    </span>
                                    {!isUser && confidence && (
                                        <div className="flex items-center gap-3">
                                            <span className="text-gray-400">
                                                <i className="fas fa-brain mr-1"></i>
                                                <span className="text-primary font-semibold">{intent}</span>
                                            </span>
                                            <div className="flex items-center gap-1">
                                                <div className={`w-2 h-2 rounded-full ${confidence > 0.8 ? 'bg-success' : confidence > 0.6 ? 'bg-warning' : 'bg-error'}`}></div>
                                                <span className={`font-semibold ${confidence > 0.8 ? 'text-success' : confidence > 0.6 ? 'text-warning' : 'text-error'}`}>
                                                    {Math.round(confidence * 100)}%
                                                </span>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                            {isUser && (
                                <div className="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 flex items-center justify-center flex-shrink-0">
                                    <i className="fas fa-user text-white"></i>
                                </div>
                            )}
                        </div>

                        {/* Message Actions */}
                        <div className={`absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300`}>
                            <div className="flex gap-1">
                                <button
                                    onClick={() => setShowReactions(!showReactions)}
                                    className="w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white text-sm"
                                >
                                    <i className="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>

                        {/* Reactions Panel */}
                        {showReactions && (
                            <div className="absolute top-full right-0 mt-2 bg-black/80 backdrop-blur-sm rounded-xl p-2 z-10">
                                <div className="flex gap-1">
                                    {reactions.map(reaction => (
                                        <button
                                            key={reaction}
                                            onClick={() => {
                                                onReaction(id, reaction);
                                                setShowReactions(false);
                                            }}
                                            className="w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center text-white text-sm"
                                        >
                                            {reaction}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Advanced Status Bar
        function StatusBar({ sessionId, messageCount, avgConfidence, isOnline }) {
            const [currentTime, setCurrentTime] = useState(new Date());

            useEffect(() => {
                const timer = setInterval(() => setCurrentTime(new Date()), 1000);
                return () => clearInterval(timer);
            }, []);

            return (
                <div className="glass-effect rounded-xl p-4 mb-4 neon-glow">
                    <div className="flex items-center justify-between text-sm">
                        <div className="flex items-center gap-6">
                            <div className="flex items-center gap-2">
                                <div className={`w-3 h-3 rounded-full ${isOnline ? 'bg-success' : 'bg-error'} pulse-ring`}></div>
                                <span className="text-gray-300 font-medium">
                                    {isOnline ? 'Connected' : 'Offline'}
                                </span>
                            </div>
                            <div className="text-gray-400">
                                Session: <span className="text-primary font-mono font-semibold">{sessionId.slice(-8)}</span>
                            </div>
                        </div>
                        <div className="flex items-center gap-6 text-gray-400">
                            <span>Messages: <span className="text-white font-semibold">{messageCount}</span></span>
                            {avgConfidence > 0 && (
                                <span>Accuracy: <span className="text-success font-semibold">{Math.round(avgConfidence * 100)}%</span></span>
                            )}
                            <span className="font-mono">{currentTime.toLocaleTimeString()}</span>
                        </div>
                    </div>
                </div>
            );
        }

        // Enhanced Typing Indicator
        function TypingIndicator() {
            return (
                <div className="max-w-[85%] my-4 mr-auto">
                    <div className="glass-effect p-4 rounded-2xl border-l-4 border-primary message-slide-in">
                        <div className="flex items-center gap-4">
                            <div className="relative">
                                <div className="w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                                    <i className="fas fa-robot text-white"></i>
                                </div>
                                <div className="absolute -inset-1 rounded-full bg-gradient-to-r from-primary to-secondary opacity-30 pulse-ring"></div>
                            </div>
                            <div className="flex items-center gap-3">
                                <div className="typing-dots">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                                <span className="text-gray-400 font-medium">AI is processing...</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Smart Quick Actions
        function QuickActions({ onQuickMessage }) {
            const quickMessages = [
                { icon: 'fas fa-hand-wave', text: 'Hello', message: 'Hello there!', color: 'from-green-500 to-emerald-600' },
                { icon: 'fas fa-box', text: 'Track Order', message: 'Where is my order ORD1001?', color: 'from-blue-500 to-cyan-600' },
                { icon: 'fas fa-undo', text: 'Refund', message: 'I want to request a refund', color: 'from-orange-500 to-red-600' },
                { icon: 'fas fa-headset', text: 'Support', message: 'I need human assistance', color: 'from-purple-500 to-pink-600' },
            ];

            return (
                <div className="mb-4">
                    <div className="text-sm text-gray-400 mb-3 font-medium">
                        <i className="fas fa-magic mr-2"></i>Quick Actions
                    </div>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                        {quickMessages.map((action, index) => (
                            <button
                                key={index}
                                onClick={() => onQuickMessage(action.message)}
                                className={`glass-effect px-4 py-3 rounded-xl text-sm text-white hover:scale-105 transition-all duration-300 flex items-center gap-2 bg-gradient-to-r ${action.color} hover:shadow-lg`}
                            >
                                <i className={action.icon}></i>
                                <span className="font-medium">{action.text}</span>
                            </button>
                        ))}
                    </div>
                </div>
            );
        }

        // Main Chat Component
        function Chat() {
            const [messages, setMessages] = useState(() => {
                try {
                    return JSON.parse(localStorage.getItem('portfolio-chat')) || [];
                } catch {
                    return [];
                }
            });
            const [input, setInput] = useState('');
            const [sessionId] = useState(() => 'portfolio-' + Math.random().toString(36).substring(2, 15));
            const [loading, setLoading] = useState(false);
            const [isTyping, setIsTyping] = useState(false);
            const [isOnline, setIsOnline] = useState(true);
            const [searchTerm, setSearchTerm] = useState('');
            const [showSearch, setShowSearch] = useState(false);
            const [messageReactions, setMessageReactions] = useState(() => {
                try {
                    return JSON.parse(localStorage.getItem('portfolio-reactions')) || {};
                } catch {
                    return {};
                }
            });
            const messagesEndRef = useRef();

            const avgConfidence = messages
                .filter(m => m.from === 'bot' && m.confidence)
                .reduce((acc, m, _, arr) => acc + m.confidence / arr.length, 0);

            useEffect(() => {
                localStorage.setItem('portfolio-chat', JSON.stringify(messages));
                if (messagesEndRef.current) {
                    messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });
                }
            }, [messages]);

            useEffect(() => {
                localStorage.setItem('portfolio-reactions', JSON.stringify(messageReactions));
            }, [messageReactions]);

            useEffect(() => {
                if (messages.length === 0) {
                    const welcome = {
                        id: 'welcome-' + Date.now(),
                        from: 'bot',
                        text: 'üöÄ **Welcome to the AI Customer Service Assistant!**\n\nI\'m an advanced AI powered by cutting-edge NLU technology. I can help you with:\n\n‚Ä¢ **Order Management** - Track, modify, or cancel orders\n‚Ä¢ **Product Support** - Technical help and troubleshooting  \n‚Ä¢ **Billing & Refunds** - Payment and refund assistance\n‚Ä¢ **Human Escalation** - Connect with live agents when needed\n\nWhat can I help you with today?',
                        ts: Date.now(),
                        confidence: 1.0,
                        intent: 'greeting'
                    };
                    setMessages([welcome]);
                }
            }, []);

            const filteredMessages = messages.filter(message =>
                message.text.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const sendMessage = useCallback(async (messageText = input) => {
                if (!messageText.trim()) return;

                const userMsg = {
                    id: 'msg-' + Date.now(),
                    from: 'user',
                    text: messageText,
                    ts: new Date()
                };

                // Add user message to chat
                setMessages(prev => [...prev, userMsg]);
                setInput('');
                setIsTyping(true);

                try {
                    const apiKey = 'AIzaSyDW7t0CWuw_h3r1cfz72ktm97gXxCHhN_E';
                    const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=' + apiKey, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: messageText
                                }]
                            }],
                            generationConfig: {
                                temperature: 0.9,
                                topK: 1,
                                topP: 1,
                                maxOutputTokens: 2048,
                                stopSequences: []
                            },
                            safetySettings: [
                                {
                                    category: "HARM_CATEGORY_HARASSMENT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_HATE_SPEECH",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                },
                                {
                                    category: "HARM_CATEGORY_DANGEROUS_CONTENT",
                                    threshold: "BLOCK_MEDIUM_AND_ABOVE"
                                }
                            ]
                        })
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error?.message || 'Failed to get response from Gemini');
                    }

                    const data = await response.json();
                    const botResponse = data.candidates?.[0]?.content?.parts?.[0]?.text || "I'm sorry, I couldn't process your request at the moment.";

                    const botMsg = {
                        id: 'msg-' + Date.now(),
                        from: 'bot',
                        text: botResponse,
                        ts: new Date(),
                        confidence: 0.95,
                        intent: 'response',
                        suggestions: []
                    };

                    setMessages(prev => [...prev, botMsg]);
                } catch (error) {
                    console.error('Error sending message to Gemini:', error);
                    
                    const errorMsg = {
                        id: 'msg-' + Date.now(),
                        from: 'bot',
                        text: `I'm having trouble connecting to the AI service. Error: ${error.message}`,
                        ts: new Date(),
                        isError: true
                    };
                    
                    setMessages(prev => [...prev, errorMsg]);
                } finally {
                    setIsTyping(false);
                }
            }, [input, sessionId]);

            const handleReaction = (messageId, reaction) => {
                setMessageReactions(prev => ({
                    ...prev,
                    [messageId]: reaction
                }));
            };

            const exportConversation = () => {
                const conversation = messages.map(msg => ({
                    from: msg.from,
                    text: msg.text,
                    timestamp: new Date(msg.ts).toISOString(),
                    ...(msg.confidence && { confidence: msg.confidence }),
                    ...(msg.intent && { intent: msg.intent })
                }));

                const dataStr = JSON.stringify(conversation, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);

                const exportFileDefaultName = `conversation-${sessionId}.json`;

                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
            };

            const clearChat = () => {
                if (confirm('Are you sure you want to clear the conversation?')) {
                    localStorage.removeItem('portfolio-chat');
                    localStorage.removeItem('portfolio-reactions');
                    setMessages([]);
                    setMessageReactions({});
                }
            };

            const onKeyDown = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            };

            return (
                <div className="h-full flex flex-col">
                    <StatusBar
                        sessionId={sessionId}
                        messageCount={messages.length}
                        avgConfidence={avgConfidence}
                        isOnline={isOnline}
                    />

                    {/* Chat Controls */}
                    <div className="glass-effect rounded-xl p-4 mb-4 neon-glow">
                        <div className="flex items-center justify-between mb-3">
                            <div className="flex items-center gap-2">
                                <button
                                    onClick={() => setShowSearch(!showSearch)}
                                    className={`px-3 py-2 rounded-lg transition-all duration-300 flex items-center gap-2 ${
                                        showSearch ? 'bg-primary text-white' : 'text-gray-300 hover:text-white hover:bg-white/10'
                                    }`}
                                >
                                    <i className="fas fa-search"></i>
                                    <span className="text-sm font-medium">Search</span>
                                </button>
                                <button
                                    onClick={exportConversation}
                                    className="px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-300 flex items-center gap-2"
                                >
                                    <i className="fas fa-download"></i>
                                    <span className="text-sm font-medium">Export</span>
                                </button>
                                <button
                                    onClick={clearChat}
                                    className="px-3 py-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-300 flex items-center gap-2"
                                >
                                    <i className="fas fa-trash"></i>
                                    <span className="text-sm font-medium">Clear</span>
                                </button>
                            </div>
                            <div className="text-xs text-gray-400">
                                Session: <span className="text-primary font-mono">{sessionId.slice(-8)}</span>
                            </div>
                        </div>

                        {showSearch && (
                            <div className="mb-3">
                                <input
                                    type="text"
                                    placeholder="Search messages..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="w-full px-3 py-2 rounded-lg bg-black/40 text-white border border-white/20 focus:border-primary focus:outline-none text-sm"
                                />
                            </div>
                        )}
                    </div>

                    <div className="flex-1 glass-effect rounded-xl p-6 mb-4 flex flex-col neon-glow">
                        <div className="flex-1 overflow-auto chat-scroll pr-2">
                            {filteredMessages.map(m => (
                                <div key={m.id} className="relative">
                                    <Message
                                        id={m.id}
                                        from={m.from}
                                        text={m.text}
                                        ts={m.ts}
                                        confidence={m.confidence}
                                        intent={m.intent}
                                        onReaction={handleReaction}
                                    />
                                    {messageReactions[m.id] && (
                                        <div className="absolute -bottom-2 right-2 text-sm">
                                            {messageReactions[m.id]}
                                        </div>
                                    )}
                                </div>
                            ))}
                            {isTyping && <TypingIndicator />}
                            <div ref={messagesEndRef} />
                        </div>
                    </div>

                    <QuickActions onQuickMessage={sendMessage} />

                    <div className="glass-effect rounded-xl p-4 neon-glow">
                        <div className="flex gap-4 items-end">
                            <div className="flex-1">
                                <textarea
                                    value={input}
                                    onChange={e => setInput(e.target.value)}
                                    onKeyDown={onKeyDown}
                                    placeholder="Type your message here... (Enter to send)"
                                    className="w-full p-4 rounded-xl bg-black/40 text-white border border-white/20 focus:border-primary focus:outline-none resize-none transition-all duration-300 placeholder-gray-400"
                                    rows={2}
                                    disabled={loading}
                                />
                            </div>
                            <div className="flex flex-col gap-2">
                                <button
                                    onClick={() => sendMessage()}
                                    disabled={loading || !input.trim()}
                                    className="px-6 py-3 rounded-xl bg-gradient-to-r from-primary to-secondary text-white font-semibold hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg"
                                >
                                    <i className="fas fa-paper-plane"></i>
                                    Send
                                </button>
                            </div>
                        </div>

                        {loading && (
                            <div className="text-primary text-sm mt-3 flex items-center gap-2">
                                <div className="w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"></div>
                                <span className="font-medium">Processing your request...</span>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Portfolio App Component
        function App() {
            const [activeTab, setActiveTab] = useState('home');
            const [showDemo, setShowDemo] = useState(false);

            const tabs = [
                { id: 'home', label: 'Home', icon: 'fas fa-home' },
                { id: 'categories', label: 'Categories', icon: 'fas fa-th-large' },
                { id: 'services', label: 'Services', icon: 'fas fa-cogs' },
                { id: 'contacts', label: 'Contacts', icon: 'fas fa-address-book' }
            ];

            if (showDemo) {
                return (
                    <div className="min-h-screen gradient-bg">
                        <div className="relative">
                            <button
                                onClick={() => setShowDemo(false)}
                                className="absolute top-6 left-6 z-50 glass-effect px-4 py-2 rounded-xl text-white hover:bg-white/20 transition-all duration-300 flex items-center gap-2"
                            >
                                <i className="fas fa-arrow-left"></i>
                                Back to Portfolio
                            </button>
                            <Chat />
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen gradient-bg">
                    {/* Navigation Header */}
                    <header className="relative overflow-hidden">
                        <nav className="glass-effect border-b border-white/10">
                            <div className="max-w-7xl mx-auto px-6">
                                <div className="flex items-center justify-between h-16">
                                    <div className="flex items-center gap-3">
                                        <div className="w-8 h-8 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                                            <i className="fas fa-robot text-white text-sm"></i>
                                        </div>
                                        <span className="text-white font-bold text-lg">AI Assistant</span>
                                    </div>

                                    <div className="hidden md:flex items-center gap-1">
                                        {tabs.map(tab => (
                                            <button
                                                key={tab.id}
                                                onClick={() => setActiveTab(tab.id)}
                                                className={`px-4 py-2 rounded-xl transition-all duration-300 flex items-center gap-2 ${
                                                    activeTab === tab.id
                                                        ? 'bg-gradient-to-r from-primary to-secondary text-white shadow-lg'
                                                        : 'text-gray-300 hover:text-white hover:bg-white/10'
                                                }`}
                                            >
                                                <i className={tab.icon}></i>
                                                <span className="font-medium">{tab.label}</span>
                                            </button>
                                        ))}
                                    </div>

                                    <button
                                        onClick={() => setShowDemo(true)}
                                        className="px-6 py-2 bg-gradient-to-r from-primary to-secondary text-white font-semibold rounded-xl hover:scale-105 transition-all duration-300 shadow-lg flex items-center gap-2"
                                    >
                                        <i className="fas fa-rocket"></i>
                                        Try Demo
                                    </button>
                                </div>
                            </div>
                        </nav>

                        <div className="max-w-7xl mx-auto px-6 py-12">
                            <div className="text-center">
                                <div className="floating">
                                    <h1 className="text-6xl font-bold text-gradient mb-6">
                                        AI Customer Service Assistant
                                    </h1>
                                </div>
                                <div className="flex items-center justify-center gap-6 mb-8">
                                    <div className="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
                                        <i className="fab fa-react text-blue-400 text-xl"></i>
                                        <span className="font-medium">React</span>
                                    </div>
                                    <div className="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
                                        <i className="fas fa-brain text-purple-400 text-xl"></i>
                                        <span className="font-medium">AI/NLU</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Tab Content */}
                    <main className="max-w-7xl mx-auto px-6 py-8">
                        {activeTab === 'home' && <HomeTab />}
                        {activeTab === 'categories' && <CategoriesTab />}
                        {activeTab === 'services' && <ServicesTab />}
                        {activeTab === 'contacts' && <ContactsTab />}
                    </main>

                    {/* Mobile Navigation */}
                    <div className="md:hidden fixed bottom-0 left-0 right-0 glass-effect border-t border-white/10">
                        <div className="flex justify-around py-3">
                            {tabs.map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`flex flex-col items-center gap-1 p-2 rounded-lg transition-all duration-300 ${
                                        activeTab === tab.id
                                            ? 'text-primary'
                                            : 'text-gray-400 hover:text-white'
                                    }`}
                                >
                                    <i className={`${tab.icon} text-lg`}></i>
                                    <span className="text-xs font-medium">{tab.label}</span>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // Home Tab Component
        function HomeTab() {
            return (
                <div className="space-y-8">
                    <section className="text-center">
                        <h2 className="text-4xl font-bold text-white mb-6">Welcome to AI Customer Service</h2>
                        <p className="text-gray-300 text-lg max-w-3xl mx-auto leading-relaxed">
                            Experience the future of customer service with our advanced AI assistant powered by cutting-edge natural language understanding and machine learning technologies.
                        </p>
                    </section>

                    <div className="grid md:grid-cols-3 gap-8">
                        <div className="glass-effect rounded-2xl p-8 hover-lift neon-glow">
                            <div className="text-primary text-4xl mb-6">
                                <i className="fas fa-brain"></i>
                            </div>
                            <h3 className="text-2xl font-bold text-white mb-4">Advanced AI Engine</h3>
                            <p className="text-gray-300 leading-relaxed">
                                Cutting-edge natural language understanding with context awareness,
                                sentiment analysis, and intelligent response generation.
                            </p>
                        </div>

                        <div className="glass-effect rounded-2xl p-8 hover-lift neon-glow">
                            <div className="text-secondary text-4xl mb-6">
                                <i className="fas fa-comments"></i>
                            </div>
                            <h3 className="text-2xl font-bold text-white mb-4">Real-time Communication</h3>
                            <p className="text-gray-300 leading-relaxed">
                                Instant messaging with typing indicators, message animations,
                                and seamless conversation flow for optimal user experience.
                            </p>
                        </div>

                        <div className="glass-effect rounded-2xl p-8 hover-lift neon-glow">
                            <div className="text-accent text-4xl mb-6">
                                <i className="fas fa-chart-line"></i>
                            </div>
                            <h3 className="text-2xl font-bold text-white mb-4">Smart Analytics</h3>
                            <p className="text-gray-300 leading-relaxed">
                                Comprehensive conversation analytics, confidence tracking,
                                and performance insights for continuous improvement.
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        // Categories Tab Component
        function CategoriesTab() {
            const categories = [
                { name: 'Electronics', icon: 'fas fa-laptop', color: 'from-blue-500 to-cyan-600', count: 25 },
                { name: 'Fashion', icon: 'fas fa-tshirt', color: 'from-pink-500 to-purple-600', count: 18 },
                { name: 'Home & Garden', icon: 'fas fa-home', color: 'from-green-500 to-emerald-600', count: 32 },
                { name: 'Sports', icon: 'fas fa-running', color: 'from-orange-500 to-red-600', count: 15 },
                { name: 'Books', icon: 'fas fa-book', color: 'from-indigo-500 to-blue-600', count: 42 },
                { name: 'Beauty', icon: 'fas fa-spa', color: 'from-purple-500 to-pink-600', count: 28 }
            ];

            return (
                <div className="space-y-8">
                    <div className="text-center">
                        <h2 className="text-4xl font-bold text-white mb-6">Product Categories</h2>
                        <p className="text-gray-300 text-lg max-w-3xl mx-auto">
                            Browse our comprehensive range of products across multiple categories
                        </p>
                    </div>

                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {categories.map((category, index) => (
                            <div key={index} className={`glass-effect rounded-2xl p-6 hover-lift neon-glow bg-gradient-to-br ${category.color}`}>
                                <div className="flex items-center justify-between mb-4">
                                    <div className="w-12 h-12 rounded-full bg-white/20 flex items-center justify-center">
                                        <i className={`${category.icon} text-white text-xl`}></i>
                                    </div>
                                    <span className="text-white/80 text-sm font-medium">{category.count} items</span>
                                </div>
                                <h3 className="text-xl font-bold text-white mb-2">{category.name}</h3>
                                <p className="text-white/80 text-sm">Explore our premium {category.name.toLowerCase()} collection</p>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Services Tab Component
        function ServicesTab() {
            const services = [
                {
                    title: '24/7 AI Support',
                    description: 'Round-the-clock intelligent customer service',
                    icon: 'fas fa-clock',
                    features: ['Instant responses', 'Multi-language support', 'Smart routing']
                },
                {
                    title: 'Order Management',
                    description: 'Complete order lifecycle management',
                    icon: 'fas fa-box',
                    features: ['Order tracking', 'Status updates', 'Modification requests']
                },
                {
                    title: 'Technical Support',
                    description: 'Expert technical assistance',
                    icon: 'fas fa-tools',
                    features: ['Troubleshooting', 'Product guidance', 'Installation help']
                },
                {
                    title: 'Analytics Dashboard',
                    description: 'Comprehensive performance insights',
                    icon: 'fas fa-chart-bar',
                    features: ['Usage analytics', 'Performance metrics', 'Improvement suggestions']
                }
            ];

            return (
                <div className="space-y-8">
                    <div className="text-center">
                        <h2 className="text-4xl font-bold text-white mb-6">Our Services</h2>
                        <p className="text-gray-300 text-lg max-w-3xl mx-auto">
                            Comprehensive AI-powered customer service solutions
                        </p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-8">
                        {services.map((service, index) => (
                            <div key={index} className="glass-effect rounded-2xl p-8 hover-lift neon-glow">
                                <div className="flex items-center gap-4 mb-6">
                                    <div className="w-16 h-16 rounded-2xl bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                                        <i className={`${service.icon} text-white text-2xl`}></i>
                                    </div>
                                    <div>
                                        <h3 className="text-xl font-bold text-white mb-2">{service.title}</h3>
                                        <p className="text-gray-300">{service.description}</p>
                                    </div>
                                </div>
                                <ul className="space-y-2">
                                    {service.features.map((feature, idx) => (
                                        <li key={idx} className="flex items-center gap-2 text-gray-300">
                                            <i className="fas fa-check text-primary text-sm"></i>
                                            <span className="text-sm">{feature}</span>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Contacts Tab Component
        function ContactsTab() {
            const contactInfo = [
                {
                    title: 'Customer Support',
                    description: 'Get help with orders and technical issues',
                    icon: 'fas fa-headset',
                    contact: 'support@aiaassistant.com',
                    hours: '24/7 Available'
                },
                {
                    title: 'Business Inquiries',
                    description: 'Partnership and enterprise solutions',
                    icon: 'fas fa-handshake',
                    contact: 'business@aiaassistant.com',
                    hours: 'Mon-Fri 9AM-6PM'
                },
                {
                    title: 'Technical Support',
                    description: 'API access and integration help',
                    icon: 'fas fa-code',
                    contact: 'dev@aiaassistant.com',
                    hours: 'Mon-Fri 9AM-6PM'
                }
            ];

            return (
                <div className="space-y-8">
                    <div className="text-center">
                        <h2 className="text-4xl font-bold text-white mb-6">Contact Us</h2>
                        <p className="text-gray-300 text-lg max-w-3xl mx-auto">
                            Get in touch with our team for support, partnerships, or technical inquiries
                        </p>
                    </div>

                    <div className="grid md:grid-cols-3 gap-8">
                        {contactInfo.map((contact, index) => (
                            <div key={index} className="glass-effect rounded-2xl p-8 hover-lift neon-glow text-center">
                                <div className="w-16 h-16 rounded-2xl bg-gradient-to-r from-primary to-secondary flex items-center justify-center mx-auto mb-6">
                                    <i className={`${contact.icon} text-white text-2xl`}></i>
                                </div>
                                <h3 className="text-xl font-bold text-white mb-3">{contact.title}</h3>
                                <p className="text-gray-300 mb-4">{contact.description}</p>
                                <div className="space-y-2">
                                    <p className="text-primary font-semibold">{contact.contact}</p>
                                    <p className="text-gray-400 text-sm">{contact.hours}</p>
                                </div>
                            </div>
                        ))}
                    </div>

                    <div className="glass-effect rounded-2xl p-8 text-center">
                        <h3 className="text-2xl font-bold text-white mb-4">Ready to Get Started?</h3>
                        <p className="text-gray-300 mb-6">
                            Experience the power of AI-driven customer service. Try our demo or contact us for custom solutions.
                        </p>
                        <div className="flex flex-col sm:flex-row gap-4 justify-center">
                            <button className="px-8 py-3 bg-gradient-to-r from-primary to-secondary text-white font-semibold rounded-xl hover:scale-105 transition-all duration-300">
                                Try Live Demo
                            </button>
                            <button className="px-8 py-3 border-2 border-primary text-primary font-semibold rounded-xl hover:bg-primary hover:text-white transition-all duration-300">
                                Request Quote
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Wrap the app with ErrorBoundary and StrictMode
        const rootElement = document.getElementById('root');
        const root = createRoot(rootElement);
        
        root.render(
            <StrictMode>
                <ErrorBoundary>
                    <App />
                </ErrorBoundary>
            </StrictMode>
        );
    </script>
    
    <!-- Add Tailwind CSS via NPM for production -->
    <script>
        // Only show development warnings in development
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            console.warn('Development mode: For production, install Tailwind CSS as a PostCSS plugin: https://tailwindcss.com/docs/installation');
            console.warn('Development mode: For production, precompile your Babel scripts: https://babeljs.io/docs/setup/');
        }
    </script>
</body>
</html>
